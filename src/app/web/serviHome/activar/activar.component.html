<!DOCTYPE html>
<html lang="es">

 <link href="/assets/css/sb-admin-2.css" rel="stylesheet">

<body >
  <app-topbar> </app-topbar>
  <div class="container col-lg-8">

    <div class="card o-hidden border-0 shadow-lg my-5 ">
      <div class="card-body p-0">
        <!-- Nested Row within Card Body -->
        <div class="row">

          <div class="col-lg-12">
            <div class="p-5">
              <div class="text-center">
                <h1 class="h4 text-gray-900 mb-4">Bienvenido</h1>
                <div class="text-center">
                  <a class="small" >Hola {{name}}, necesitamos unos datos más para terminar con el registro de tu cuenta.</a>
                </div>
                <br>
              </div>
              <form class="col-12" #activarForm="ngForm" (ngSubmit)="registerPerson()" name="formRegister">
                <div class="form-group row">

                <div class="input-group col-sm-4 mb-3 mb-sm-0">
                  <div class="input-group-prepend ">
                  </div>
                  <input type="text" class="form-control" placeholder="Nombre" [(ngModel)]="user.nombre" value={{name}}  name="nombre"  required minlength="2" #nombre="ngModel">
                  <div class="container alert alert-danger" *ngIf="nombre.invalid && (nombre.dirty || nombre.touched)">
                    <div *ngIf="nombre.errors.required">
                      Tienes que ingresar el nombre
                    </div>
                    <div *ngIf="nombre.errors.minlength">
                      El nombre debe tener al menos 2 caracteres
                    </div>
                  </div>
                </div>


                <div class="input-group col-sm-4 mb-3 mb-sm-0">
                  <div class="input-group-prepend ">
                  </div>
                  <input type="text" class="form-control" placeholder="Apellido" [(ngModel)]="user.apellido" name="apellido" required minlength="2" #apellido="ngModel" >
                  <div class="container alert alert-danger" *ngIf="apellido.invalid && (apellido.dirty || apellido.touched)">
                    <div *ngIf="apellido.errors.required">
                      El apellido es requerido
                    </div>
                    <div *ngIf="apellido.errors.minlength">
                      El apellido debe tener al menos 2 caracteres
                    </div>
                  </div>
                </div>

                <div class="input-group col-sm-4 mb-3 mb-sm-0">
                  <div class="input-group-prepend ">
                  </div>
                  <input type="text" class="form-control" placeholder="Rut" [(ngModel)]="user.rut" name="rut" required minlength="10" maxlength="10" pattern="\d{3,8}-[\d|kK]{1}" #rut="ngModel" >
                  <div class="container alert alert-danger" *ngIf="rut.invalid && (rut.dirty || rut.touched|| rut.valid)">
                    <div *ngIf="rut.errors.required">
                      El rut es requerido y debe tener el siguiente formato Ej: 11111111-1
                    </div>
                    <div *ngIf="rut.errors.pattern">
                      El rut debe incluir el "-", debe tener el siguiente formato Ej: 11111111-k
                    </div>
                  </div>
                </div>


                </div>

                <div class="form-group row">
                  <div class="input-group col-sm-6 mb-3 mb-sm-0 mx-auto">
                    <div class="input-group-prepend ">
                      <span class="input-group-text" id="basic-addon1">+56</span>
                    </div>
                    <input type="text" class="form-control" placeholder="Teléfono" [(ngModel)]="user.telefono" name="telefono"  required minlength="8" maxlength="9" pattern="[2||9]+[0-9]+"  #telefono="ngModel">
                    <div class="container alert alert-danger" *ngIf="telefono.invalid && (telefono.dirty || telefono.touched)">
                      <div *ngIf="telefono.errors.required">
                        El telefono es requerido
                      </div>
                      <div *ngIf="telefono.errors.pattern">
                        El telefono debe empezar con "2" de telefono o "9" de celular
                      </div>
                      <div *ngIf="telefono.errors.minlength">
                        El telefono debe tener al menos 7 números
                      </div>
                    </div>
                  </div>
                  <div class="input-group col-sm-6 mb-3 mb-sm-0 mx-auto">

                        <input class="form-control" placeholder="yyyy-mm-dd"
                               name="dp" [(ngModel)]="model" ngbDatepicker #d="ngbDatepicker" required>
                        <div class="input-group-append ">
                          <button class="btn btn-outline-secondary" (click)="d.toggle()" type="button"><i class="fas fa-calendar-alt"></i></button>
                          <!-- <i class="fas fa-calendar-alt fa-2x"></i> -->
                    </div>
                  </div>
                </div>
                <br>
                <button type="submit" class="btn btn-primary my-2 col-sm-12 " [disabled]="!activarForm.form.valid"><i class="fas fa-sign-in-alt"></i> Guardar</button>
              </form>
              <hr>
              <!-- <div class="text-center">
                <a class="small" href="forgot-password.html">Forgot Password?</a>
              </div>
              <div class="text-center">
                <a class="small" href="login.html">Already have an account? Login!</a>
              </div> -->
            </div>
          </div>
        </div>
      </div>
    </div>



  </div>

  <!-- Bootstrap core JavaScript-->
  <script src="vendor/jquery/jquery.min.js"></script>
  <script src="vendor/bootstrap/js/bootstrap.bundle.min.js"></script>

  <!-- Core plugin JavaScript-->
  <script src="vendor/jquery-easing/jquery.easing.min.js"></script>

  <!-- Custom scripts for all pages-->
  <script src="js/sb-admin-2.min.js"></script>

</body>
<app-footer></app-footer>
</html>
