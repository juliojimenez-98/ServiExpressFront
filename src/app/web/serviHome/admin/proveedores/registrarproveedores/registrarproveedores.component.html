<h4 style="margin-bottom: 3%;" class="text-center">Registrar un proveedor</h4>
<form class="col-12">
    <h4 class="text-center">Registrar un proveedor</h4>

    <div style="margin-top: 3%;" class="input-group mb-3 col-md-6 mx-auto">
        <div class="input-group-prepend ">
            <span class="input-group-text "><i class="fas fa-user"></i></span>
        </div>
        <input type="text" class="form-control" placeholder="Nombre" name="nombre" [(ngModel)]="proveedor.nombre" required minlength="2" #nombre="ngModel" />
    </div>
    <div class="mx-auto col-md-9 alert alert-danger" *ngIf="nombre.invalid && (nombre.dirty || nombre.touched)">
        <div *ngIf="nombre.errors.required">
            Tienes que ingresar el nombre
        </div>
        <div *ngIf="nombre.errors.minlength">
            El nombre debe tener al menos 2 caracteres
        </div>
    </div>

    <div class="input-group mb-3 col-md-6 mx-auto">
        <div class="input-group-prepend ">
            <span class="input-group-text "><i class="fas fa-user"></i></span>
        </div>
        <input type="text" class="form-control" placeholder="Apellido" name="apellido" [(ngModel)]="proveedor.apellido" required minlength="2" #apellido="ngModel" />
    </div>
    <div class=" mx-auto col-md-9 alert alert-danger " *ngIf="apellido.invalid && (apellido.dirty || apellido.touched) ">
        <div *ngIf="apellido.errors.required ">
            Tienes que ingresar el apellido
        </div>
        <div *ngIf="apellido.errors.minlength ">
            El apellido debe tener al menos 2 caracteres
        </div>
    </div>

    <div class="input-group mb-3 col-md-6 mx-auto ">
        <div class="input-group-prepend ">
            <span class="input-group-text "><i class="fas fa-id-card "></i></span>
        </div>
        <input type="text " class="form-control " placeholder="Rut " id="rut " name="rut " [(ngModel)]="proveedor.rut " required minlength="10" maxlength="10" pattern="\d{3,8}-[\d|kK]{1}" #rut="ngModel" />
        <div class="container alert alert-danger" *ngIf="rut.invalid && (rut.dirty || rut.touched|| rut.valid)">
            <div *ngIf="rut.errors.required">
                El rut es requerido y debe tener el siguiente formato Ej: 11111111-1
            </div>
            <div *ngIf="rut.errors.pattern">
                El rut debe incluir el "-", debe tener el siguiente formato Ej: 11111111-k
            </div>
        </div>
    </div>

    <div class="input-group mb-3 col-md-6 mx-auto ">
        <div class="input-group-prepend ">
            <span class="input-group-text "><i class="fas fa-at "></i></span>
        </div>
        <input type="email " class="form-control " placeholder="Correo " name="email " [(ngModel)]="proveedor.correo " required email #email="ngModel" />
        <div class="mx-auto col-md-9 alert alert-danger" *ngIf="email.invalid && (email.dirty || email.touched)">
            <div *ngIf="email.errors.required">
                Tienes que ingresar el email
            </div>
            <div *ngIf="email.errors.email">
                Ingrese un correo válido
            </div>
        </div>
    </div>

    <div class="input-group mb-3 col-md-6 mx-auto ">
        <div class="input-group-prepend ">
            <span class="input-group-text "><i class="fas fa-phone-alt "></i>+56</span>
        </div>
        <input type="number " class="form-control " placeholder="Telefono " name="telefono " [(ngModel)]="proveedor.telefono " required minlength="8" maxlength="9" pattern="[2||9]+[0-9]+" #telefono="ngModel" />
        <div class="container alert alert-danger" *ngIf="telefono.invalid && (telefono.dirty || telefono.touched)">
            <div *ngIf="telefono.errors.required">
                El telefono es requerido
            </div>
            <div *ngIf="telefono.errors.pattern">
                El telefono debe empezar con "2" de telefono o "9" de celular
            </div>
            <div *ngIf="telefono.errors.minlength">
                El telefono debe tener al menos 7 números
            </div>
            <div *ngIf="telefono.errors.maxlength">
                El telefono sobrepasa el límite de números
            </div>
        </div>
    </div>

    <div class="text-center ">
        <button type="submit " style="margin-top: 2%; " class="col-sm-4 btn btn-info btn-block my-2 mx-auto " (click)="agregarProveedor() " *ngIf="!proveedor.idproveedor else elseBLock "><i class="fas fa-sign-in-alt "></i>  Registrar </button>
    </div>
    <ng-template #elseBLock>
        <button type="submit " class="btn btn-success ">Actualizar</button>
    </ng-template>
</form>