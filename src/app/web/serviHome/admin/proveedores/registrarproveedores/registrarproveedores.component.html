<h4 style="margin-bottom: 3%;" class="text-center">Registrar un proveedor</h4>
<form class="col-12">
    <div class="container">

        <div class="form-row ">


            <!-- NOMBRE -->
            <div class="input-group col-md-4">
                <div class="container">
                    <label>Nombre Proveedor</label>
                </div>
                <div class="input-group-prepend ">
                    <span class="input-group-text "><i class="fas fa-user"></i></span>
                </div>
                <input type="text" class="form-control" placeholder="Nombre" name="nombre" [(ngModel)]="proveedor.nombre" required minlength=2 #nombre=ngModel/>
            </div>

            <div class="mx-auto col-md-9 alert alert-danger" *ngIf="nombre.invalid && (nombre.dirty || nombre.touched)">
                <div *ngIf="nombre.errors.required">
                    Tienes que ingresar el nombre
                </div>
                <div *ngIf="nombre.errors.minlegth">
                    El mínimo de caracteres es de 2
                </div>
            </div>

            <!-- APELLIDO -->
            <div class="input-group col-md-4">
                <div class="container">
                    <label>Apellido Proveedor</label>
                </div>
                <div class="input-group-prepend ">
                    <span class="input-group-text "><i class="fas fa-user"></i></span>
                </div>
                <input type="text" class="form-control" placeholder="Apellido" name="apellido" [(ngModel)]="proveedor.apellido" required #apellido=ngModel/>
            </div>

            <div class="mx-auto col-md-9 alert alert-danger" *ngIf="apellido.invalid && (apellido.dirty || apellido.touched)">
                <div *ngIf="apellido.errors.required">
                    Tienes que ingresar el nombre
                </div>
            </div>

            <!-- RUT -->
            <div class="input-group col-md-4">
                <div class="container">
                    <label>Rut Proveedor</label>
                </div>
                <div class="input-group-prepend ">
                    <span class="input-group-text "><i class="fas fa-id-card"></i></span>
                </div>
                <input type="text" class="form-control" placeholder="Rut" id="rut" name="rut" [(ngModel)]="proveedor.rut" required minlength="10" maxlength="10" pattern="\d{3,8}-[\d|kK]{1}" #rut="ngModel" />
            </div>

            <div class="container alert alert-danger" *ngIf="rut.invalid && (rut.dirty || rut.touched|| rut.valid)">
                <div *ngIf="rut.errors.required">
                    El rut es requerido y debe tener el siguiente formato Ej: 11111111-1
                </div>
                <div *ngIf="rut.errors.pattern">
                    El rut debe incluir el "-", debe tener el siguiente formato Ej: 11111111-k
                </div>
            </div>

        </div>

        <div class="row">
            <div class="mx-auto">
                <div style="margin-top: 2%;" class="form-row ">

                    <!-- EMAIL -->
                    <div class="input-group col-md-6">
                        <div class="container">
                            <label>Correo Proveedor</label>
                        </div>
                        <div class="input-group-prepend ">
                            <span class="input-group-text "><i class="fas fa-at"></i></span>
                        </div>
                        <input type="email" class="form-control" placeholder="Correo" name="email" [(ngModel)]="proveedor.correo" required email #email=ngModel/>
                    </div>

                    <div class="mx-auto col-md-9 alert alert-danger" *ngIf="email.invalid && (email.dirty || email.touched)">
                        <div *ngIf="email.errors.required">
                            Tienes que ingresar el email
                        </div>
                        <div *ngIf="email.errors.email">
                            Ingrese un correo válido
                        </div>
                    </div>

                    <!-- TELEFONO -->
                    <div class="input-group col-md-6">
                        <div class="container">
                            <label>Telefono Proveedor</label>
                        </div>
                        <div class="input-group-prepend ">
                            <span class="input-group-text "><i class="fas fa-phone-alt"></i></span>
                        </div>
                        <input type="number" class="form-control" placeholder="Telefono" name="telefono" [(ngModel)]="proveedor.telefono" required minlength="8" maxlength="9" pattern="[2||9]+[0-9]+" #telefono="ngModel" />
                    </div>

                    <div class="container alert alert-danger" *ngIf="telefono.invalid && (telefono.dirty || telefono.touched)">
                        <div *ngIf="telefono.errors.required">
                            El telefono es requerido
                        </div>
                        <div *ngIf="telefono.errors.pattern">
                            El teléfono debe empezar con "2" de teléfono o "9" de celular
                        </div>
                        <div *ngIf="telefono.errors.minlength">
                            El teléfono debe tener al menos 7 números
                        </div>
                    </div>

                </div>
            </div>

        </div>


        <div class="row">
            <div class="mx-auto">
                <div style="margin-top: 2%;" class="form-row ">

                    <!-- EMPRESA -->
                    <div class="input-group col-md-6">
                        <div class="container">
                            <label>Empresa Proveedor</label>
                        </div>
                        <div class="input-group-prepend ">
                            <span class="input-group-text "><i class="fas fa-building"></i></span>
                        </div>
                        <input type="text" class="form-control" placeholder="empresa" name="empresa" [(ngModel)]="proveedor.empresa" required #empresa=ngModel/>
                    </div>

                    <div class="mx-auto col-md-9 alert alert-danger" *ngIf="empresa.invalid && (empresa.dirty || empresa.touched)">
                        <div *ngIf="empresa.errors.required">
                            Tienes que ingresar la empresa
                        </div>
                    </div>

                    <!-- PRODUCTO -->
                    <div class="input-group col-md-6">
                        <div class="container">
                            <label>Producto que provee</label>
                        </div>
                        <div class="input-group-prepend ">
                            <span class="input-group-text "><i class="fab fa-product-hunt"></i></span>
                        </div>
                        <input type="text" class="form-control" placeholder="Producto que provee" name="producto" [(ngModel)]="proveedor.producto" required #producto=ngModel/>
                    </div>

                    <div class="mx-auto col-md-9 alert alert-danger" *ngIf="producto.invalid && (producto.dirty || producto.touched)">
                        <div *ngIf="producto.errors.required">
                            Tienes que ingresar el producto
                        </div>
                    </div>

                </div>
            </div>
        </div>
    </div>



    <div style="margin-top: 2%;" class="text-center ">
        <button style="margin-top: 2%;" type="submit" style="margin-top: 2%;" class="col-sm-4 btn btn-info btn-block my-2 mx-auto" (click)="agregarProveedor()" *ngIf="!proveedor.idproveedor else elseBLock"><i class="fas fa-sign-in-alt"></i>  Registrar </button>
    </div>
    <ng-template #elseBLock>
        <button style="margin-top: 2%;" type="submit" class="btn btn-success" (click)="actProveedor()">Actualizar</button>
    </ng-template>
</form>